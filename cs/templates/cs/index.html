{% extends 'cs/base.html' %}

{% block title %}{{ title }}{% endblock %}
{% block heading %}Добро пожаловать в мир компьютерных наук!{% endblock %}

{% block content %}
  <h2>Наши концепции компьютерных наук</h2>

  <ul class="list-articles">
    {% for concept in concepts %}
      <li>
        <h3>{{ concept.title }}</h3>
        <p>{{ concept.description|linebreaks|truncatewords:30 }}</p>
        <p>Сложность: {{ concept.difficulty }}</p>
        <a href="{{ concept.get_absolute_url }}">Подробнее</a>
      </li>
    {% endfor %}
  </ul>

  {% if page_obj.has_other_pages %}
    <div class="pagination-wrapper">
        <nav aria-label="Постраничная навигация">
            <ul class="pagination">
                {% if page_obj.has_previous %}
                    <li class="page-item">
                        <a class="page-link prev-next" href="?page={{ page_obj.previous_page_number }}" aria-label="Предыдущая">
                            <span aria-hidden="true">&laquo;</span> Предыдущая
                        </a>
                    </li>
                {% endif %}

                {% for num in page_range %}
                    {% if num == page_obj.number %}
                        <li class="page-item active" aria-current="page">
                            <span class="page-link">{{ num }}</span>
                        </li>
                    {% else %}
                        <li class="page-item">
                            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                        </li>
                    {% endif %}
                {% endfor %}

                {% if page_obj.has_next %}
                    <li class="page-item">
                        <a class="page-link prev-next" href="?page={{ page_obj.next_page_number }}" aria-label="Следующая">
                            Следующая <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                {% endif %}
            </ul>
        </nav>
    </div>
    {% endif %}
{% endblock %}
